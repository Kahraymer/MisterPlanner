<!DOCTYPE html>
{% autoescape true %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title id= "title"></title>
</head>
<body>
    <script type="text/javascript">
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (xhttp.readyState == 4 && xhttp.status == 200) {

                response = JSON.parse(xhttp.responseText);
                plan = response.Plan;
                invites = response.Invites;
                document.getElementById("title").innerHTML = plan.Title;

                var html = "";
                html += "Title: " + plan.Title + "<br>";
                html += "Host: " + plan.AuthorID + "<br>";
                html += "When: " + plan.EventDate + "<br>";
                html += "Respond By: " + plan.RespondBy + "<br>";
                html += "<br>" + "Status: ";
                if (plan.Status == null) {
                    html += "Still in limbo"
                } else if (plan.Status == true) {
                    html += "Confirmed";
                } else {
                    html += "Cancelled";
                }
                html += "<br>";

                html += "<br>People who are invited: <br>"
                var invite;
                for (i = 0; i < invites.length; i++) {
                    html += "UserID: " + invites[i].UserID + "<br>" + "Response: " + invites[i].Response; + "<br>";
                }

                document.getElementById("plan").innerHTML = html;
            }
        };
        xhttp.open("GET", "{{getPlanAPI}}", true);
        xhttp.send();
    </script>
    <div id = "plan"></div>
    <br>
    <div><a href="{{currentPlansURL}}">Go back to all current plans</a></div>
</body>
</html>
{% endautoescape %}